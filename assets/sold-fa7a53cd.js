import{C as L,d as K,r as o,v as O,c as _,H as Q,o as d,e as m,g as l,w as a,f as B,h as n,J as $,F as P,l as T,j as k,I as W,i as q,t as S,n as R,p as X,k as Y,_ as Z}from"./index-4a914cf9.js";import{c as ee}from"./index-dae4084e.js";import{r as le,a as ae}from"./index-131cdb0e.js";const te=(v,f,x="",w="",N="")=>L.post(`/products/soldRouter/getSalesRecord/${v}/${f}`,{brandName:x,productName:w,color:N}),oe=v=>(X("data-v-7003c1fb"),v=v(),Y(),v),re={style:{display:"flex","justify-content":"space-between","letter-spacing":"8px","font-size":"18px"}},ne=oe(()=>B("p",{style:{"line-height":"32px","margin-left":"30px","font-weight":"600"}},"售出统计",-1)),se={class:"selectContainer"},de={class:"loadingTips"},ue={key:0},ce={key:1},ie=K({__name:"sold",setup(v){let f=o(0),x=o([]),w=o(),N=o(),A=o(),u=o(8),C=o(!1),b=o(!1),r=o(),s=o(),p=o();const V=o(),U=()=>{C.value=!0,u.value>=+f.value?(C.value=!1,b.value=!0):(u.value+=5,g(1,r.value,s.value,p.value),console.log("pageSize = "+u.value),console.log(+f.value+5))},z=async()=>{V.value.setScrollTop(0),u.value=8,b.value=!1,g(1,r.value,s.value,p.value)},D=async()=>{V.value.setScrollTop(0),u.value=8,b.value=!1,A.value=(await le(s.value)).data,p.value="",g(1,r.value,s.value)},j=async()=>{V.value.setScrollTop(0),u.value=8,b.value=!1,N.value=(await ae(r.value)).data,s.value="",g(1,r.value)},g=async(I,c="",h="",y="")=>{let t=await te(I,u.value,c,h,y);f.value=t.data.totalCount,x.value=t.data.data,C.value=!1};return O(async()=>{u.value=8,g(1,r.value),w.value=(await ee()).data}),(I,c)=>{const h=_("el-option"),y=_("el-select"),t=_("el-table-column"),F=_("el-rate"),G=_("el-table"),M=_("el-scrollbar"),E=_("el-card"),H=Q("infinite-scroll");return d(),m("div",null,[l(E,{class:"box-card",shadow:"always"},{header:a(()=>[B("div",re,[ne,B("div",se,[l(y,{modelValue:n(r),"onUpdate:modelValue":c[0]||(c[0]=e=>$(r)?r.value=e:r=e),clearable:"",placeholder:"品牌名称",onChange:j},{default:a(()=>[(d(!0),m(P,null,T(n(w),e=>(d(),k(h,{key:e.brandName,label:e.brandName,value:e.brandName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(y,{modelValue:n(s),"onUpdate:modelValue":c[1]||(c[1]=e=>$(s)?s.value=e:s=e),clearable:"",placeholder:"产品名称",onChange:D,disabled:!n(r)},{default:a(()=>[(d(!0),m(P,null,T(n(N),e=>(d(),k(h,{key:e.productName,label:e.productName,value:e.productName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),l(y,{modelValue:n(p),"onUpdate:modelValue":c[2]||(c[2]=e=>$(p)?p.value=e:p=e),clearable:"",placeholder:"商品类型",onChange:z,disabled:!n(s)},{default:a(()=>[(d(!0),m(P,null,T(n(A),e=>(d(),k(h,{key:e.color,label:e.color,value:e.color},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])])]),default:a(()=>[l(M,{height:"690px",ref_key:"scrollbarRef",ref:V},{default:a(()=>[W((d(),k(G,{border:"","infinite-scroll-immediate":!1,"infinite-scroll-delay":"500","element-loading-text":"加载中...",data:n(x),"row-style":{height:"90px"},stripe:""},{default:a(()=>[l(t,{label:"序号",type:"index",align:"center"}),l(t,{prop:"brandName",label:"品牌名称",align:"center"}),l(t,{prop:"productName",label:"产品名称",align:"center"},{default:a(({row:e,$index:i})=>[]),_:1}),l(t,{prop:"color",label:"商品类型",align:"center",width:"100"},{default:a(({row:e,$index:i})=>[]),_:1}),l(t,{prop:"sale_date",label:"售出时间",align:"center",width:"180"},{default:a(({row:e,$index:i})=>[]),_:1}),l(t,{prop:"purchasingPrice",label:"成本花费",align:"center"},{default:a(({row:e,$index:i})=>[q(S(e.purchasingPrice)+"￥",1)]),_:1}),l(t,{prop:"actual_selling_price",label:"实际售价",align:"center"},{default:a(({row:e,$index:i})=>[q(S(e.actual_selling_price)+"￥",1)]),_:1}),l(t,{prop:"profit",label:"利润",align:"center"},{default:a(({row:e,$index:i})=>[q(S(e.profit)+"￥",1)]),_:1}),l(t,{prop:"customerGender",label:"顾客性别",align:"center",width:"110"},{default:a(({row:e,$index:i})=>[]),_:1}),l(t,{prop:"customerAge",label:"顾客年龄",align:"center",width:"110"},{default:a(({row:e,$index:i})=>[q(S(e.customerAge)+"岁 ",1)]),_:1}),l(t,{prop:"reviews",label:"用户评价",align:"center",width:"160"},{default:a(({row:e,$index:i})=>[l(F,{modelValue:e.reviews,"onUpdate:modelValue":J=>e.reviews=J,size:"large",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[H,U]]),B("div",de,[n(C)?(d(),m("p",ue,"加载中...")):R("",!0),n(b)?(d(),m("p",ce,"没有更多数据啦！")):R("",!0)])]),_:1},512)]),_:1})])}}});const me=Z(ie,[["__scopeId","data-v-7003c1fb"]]);export{me as default};
