import{r as T,_ as $}from"./index-ebc2234f.js";import{c as D}from"./index-5770eb2c.js";import{r as R,a as P}from"./index-9f7edceb.js";const A=(c,d,f="",_="",m="")=>T.post(`/products/soldRouter/getSalesRecord/${c}/${d}`,{brandName:f,productName:_,color:m}),U=c=>(Vue.pushScopeId("data-v-7003c1fb"),c=c(),Vue.popScopeId(),c),z={style:{display:"flex","justify-content":"space-between","letter-spacing":"8px","font-size":"18px"}},I=U(()=>Vue.createElementVNode("p",{style:{"line-height":"32px","margin-left":"30px","font-weight":"600"}},"售出统计",-1)),F={class:"selectContainer"},L={class:"loadingTips"},G={key:0},M={key:1},j=Vue.defineComponent({__name:"sold",setup(c){let d=Vue.ref(0),f=Vue.ref([]),_=Vue.ref(),m=Vue.ref(),h=Vue.ref(),o=Vue.ref(8),v=Vue.ref(!1),V=Vue.ref(!1),t=Vue.ref(),a=Vue.ref(),n=Vue.ref();const g=Vue.ref(),x=()=>{v.value=!0,o.value>=+d.value?(v.value=!1,V.value=!0):(o.value+=5,s(1,t.value,a.value,n.value),console.log("pageSize = "+o.value),console.log(+d.value+5))},N=async()=>{g.value.setScrollTop(0),o.value=8,V.value=!1,s(1,t.value,a.value,n.value)},C=async()=>{g.value.setScrollTop(0),o.value=8,V.value=!1,h.value=(await R(a.value)).data,n.value="",s(1,t.value,a.value)},w=async()=>{g.value.setScrollTop(0),o.value=8,V.value=!1,m.value=(await P(t.value)).data,a.value="",s(1,t.value)},s=async(b,u="",i="",p="")=>{let l=await A(b,o.value,u,i,p);d.value=l.data.totalCount,f.value=l.data.data,v.value=!1};return Vue.onMounted(async()=>{o.value=8,s(1,t.value),_.value=(await D()).data}),(b,u)=>{const i=Vue.resolveComponent("el-option"),p=Vue.resolveComponent("el-select"),l=Vue.resolveComponent("el-table-column"),y=Vue.resolveComponent("el-rate"),k=Vue.resolveComponent("el-table"),B=Vue.resolveComponent("el-scrollbar"),S=Vue.resolveComponent("el-card"),q=Vue.resolveDirective("infinite-scroll");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(S,{class:"box-card",shadow:"always"},{header:Vue.withCtx(()=>[Vue.createElementVNode("div",z,[I,Vue.createElementVNode("div",F,[Vue.createVNode(p,{modelValue:Vue.unref(t),"onUpdate:modelValue":u[0]||(u[0]=e=>Vue.isRef(t)?t.value=e:t=e),clearable:"",placeholder:"品牌名称",onChange:w},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(_),e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.brandName,label:e.brandName,value:e.brandName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Vue.createVNode(p,{modelValue:Vue.unref(a),"onUpdate:modelValue":u[1]||(u[1]=e=>Vue.isRef(a)?a.value=e:a=e),clearable:"",placeholder:"产品名称",onChange:C,disabled:!Vue.unref(t)},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(m),e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.productName,label:e.productName,value:e.productName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),Vue.createVNode(p,{modelValue:Vue.unref(n),"onUpdate:modelValue":u[2]||(u[2]=e=>Vue.isRef(n)?n.value=e:n=e),clearable:"",placeholder:"商品类型",onChange:N,disabled:!Vue.unref(a)},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(h),e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.color,label:e.color,value:e.color},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])])]),default:Vue.withCtx(()=>[Vue.createVNode(B,{height:"690px",ref_key:"scrollbarRef",ref:g},{default:Vue.withCtx(()=>[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(k,{border:"","infinite-scroll-immediate":!1,"infinite-scroll-delay":"500","element-loading-text":"加载中...",data:Vue.unref(f),"row-style":{height:"90px"},stripe:""},{default:Vue.withCtx(()=>[Vue.createVNode(l,{label:"序号",type:"index",align:"center"}),Vue.createVNode(l,{prop:"brandName",label:"品牌名称",align:"center"}),Vue.createVNode(l,{prop:"productName",label:"产品名称",align:"center"},{default:Vue.withCtx(({row:e,$index:r})=>[]),_:1}),Vue.createVNode(l,{prop:"color",label:"商品类型",align:"center",width:"100"},{default:Vue.withCtx(({row:e,$index:r})=>[]),_:1}),Vue.createVNode(l,{prop:"sale_date",label:"售出时间",align:"center",width:"180"},{default:Vue.withCtx(({row:e,$index:r})=>[]),_:1}),Vue.createVNode(l,{prop:"purchasingPrice",label:"成本花费",align:"center"},{default:Vue.withCtx(({row:e,$index:r})=>[Vue.createTextVNode(Vue.toDisplayString(e.purchasingPrice)+"￥",1)]),_:1}),Vue.createVNode(l,{prop:"actual_selling_price",label:"实际售价",align:"center"},{default:Vue.withCtx(({row:e,$index:r})=>[Vue.createTextVNode(Vue.toDisplayString(e.actual_selling_price)+"￥",1)]),_:1}),Vue.createVNode(l,{prop:"profit",label:"利润",align:"center"},{default:Vue.withCtx(({row:e,$index:r})=>[Vue.createTextVNode(Vue.toDisplayString(e.profit)+"￥",1)]),_:1}),Vue.createVNode(l,{prop:"customerGender",label:"顾客性别",align:"center",width:"110"},{default:Vue.withCtx(({row:e,$index:r})=>[]),_:1}),Vue.createVNode(l,{prop:"customerAge",label:"顾客年龄",align:"center",width:"110"},{default:Vue.withCtx(({row:e,$index:r})=>[Vue.createTextVNode(Vue.toDisplayString(e.customerAge)+"岁 ",1)]),_:1}),Vue.createVNode(l,{prop:"reviews",label:"用户评价",align:"center",width:"160"},{default:Vue.withCtx(({row:e,$index:r})=>[Vue.createVNode(y,{modelValue:e.reviews,"onUpdate:modelValue":E=>e.reviews=E,size:"large",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[q,x]]),Vue.createElementVNode("div",L,[Vue.unref(v)?(Vue.openBlock(),Vue.createElementBlock("p",G,"加载中...")):Vue.createCommentVNode("",!0),Vue.unref(V)?(Vue.openBlock(),Vue.createElementBlock("p",M,"没有更多数据啦！")):Vue.createCommentVNode("",!0)])]),_:1},512)]),_:1})])}}});const O=$(j,[["__scopeId","data-v-7003c1fb"]]);export{O as default};
