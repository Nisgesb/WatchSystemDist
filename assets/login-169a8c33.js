import{u as f,a as g}from"./index-94a687d4.js";const v=()=>{const o=new Date().getHours();return o>=5&&o<=9?"早上":o>9&&o<=12?"上午":o>12&&o<=18?"下午":"晚上"},w={class:"login_container"},x={class:"form_container",align:"middle",justify:"center"},N=Vue.createElementVNode("h1",null,"Login",-1),C=Vue.defineComponent({__name:"login",setup(o){const i=f(),m=g(),u=Vue.ref();let t=Vue.reactive({username:"admin",password:"123"});const c=Vue.reactive({username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:2,max:10,message:"账号长度在2到10个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:20,message:"密码长度在3到20个字符之间",trigger:"blur"}]});let r=Vue.ref(!1);const d=async()=>{r.value=!0,u.value.validate(async n=>{n?i.userLogin(t).then(e=>{e.code==200?(r.value=!1,ElementPlus.ElNotification({type:"success",title:`Hi, ${v()}好`,message:"登录成功！"}),m.push("/")):(r.value=!1,ElementPlus.ElNotification({type:"error",message:e.message}))},e=>{r.value=!1,ElementPlus.ElNotification({type:"error",message:e.message})}):console.log(n)})};return(n,e)=>{const a=Vue.resolveComponent("el-input"),s=Vue.resolveComponent("el-form-item"),V=Vue.resolveComponent("el-button"),p=Vue.resolveComponent("el-form"),_=Vue.resolveComponent("el-col");return Vue.openBlock(),Vue.createElementBlock("div",w,[Vue.createElementVNode("div",x,[Vue.createVNode(_,null,{default:Vue.withCtx(()=>[Vue.createVNode(p,{model:Vue.unref(t),rules:c,ref_key:"loginForms",ref:u,class:"login-form"},{default:Vue.withCtx(()=>[N,Vue.createVNode(s,{prop:"username"},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"text",modelValue:Vue.unref(t).username,"onUpdate:modelValue":e[0]||(e[0]=l=>Vue.unref(t).username=l),"prefix-icon":"User",placeholder:"Username"},null,8,["modelValue"])]),_:1}),Vue.createVNode(s,{prop:"password"},{default:Vue.withCtx(()=>[Vue.createVNode(a,{type:"password",modelValue:Vue.unref(t).password,"onUpdate:modelValue":e[1]||(e[1]=l=>Vue.unref(t).password=l),"prefix-icon":"Lock",placeholder:"Password","show-password":""},null,8,["modelValue"])]),_:1}),Vue.createVNode(s,null,{default:Vue.withCtx(()=>[Vue.createVNode(V,{type:"primary",onClick:d,loading:Vue.unref(r),class:"login-btn"},{default:Vue.withCtx(()=>[Vue.createTextVNode(" Login ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})])])}}});export{C as default};
