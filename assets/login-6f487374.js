import{d as L,u as k,a as U,r as p,b as g,c as a,o as C,e as N,f,g as s,w as t,h as n,i as B,E as c}from"./index-4a914cf9.js";const E=()=>{const o=new Date().getHours();return o>=5&&o<=9?"早上":o>9&&o<=12?"上午":o>12&&o<=18?"下午":"晚上"},F={class:"login_container"},H={class:"form_container",align:"middle",justify:"center"},q=f("h1",null,"Login",-1),S=L({__name:"login",setup(o){const y=k(),w=U(),d=p();let r=g({username:"admin",password:"123"});const v=g({username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:2,max:10,message:"账号长度在2到10个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:20,message:"密码长度在3到20个字符之间",trigger:"blur"}]});let l=p(!1);const x=async()=>{l.value=!0,d.value.validate(async u=>{u?y.userLogin(r).then(e=>{e.code==200?(l.value=!1,c({type:"success",title:`Hi, ${E()}好`,message:"登录成功！"}),w.push("/")):(l.value=!1,c({type:"error",message:e.message}))},e=>{l.value=!1,c({type:"error",message:e.message})}):console.log(u)})};return(u,e)=>{const _=a("el-input"),i=a("el-form-item"),b=a("el-button"),V=a("el-form"),h=a("el-col");return C(),N("div",F,[f("div",H,[s(h,null,{default:t(()=>[s(V,{model:n(r),rules:v,ref_key:"loginForms",ref:d,class:"login-form"},{default:t(()=>[q,s(i,{prop:"username"},{default:t(()=>[s(_,{type:"text",modelValue:n(r).username,"onUpdate:modelValue":e[0]||(e[0]=m=>n(r).username=m),"prefix-icon":"User",placeholder:"Username"},null,8,["modelValue"])]),_:1}),s(i,{prop:"password"},{default:t(()=>[s(_,{type:"password",modelValue:n(r).password,"onUpdate:modelValue":e[1]||(e[1]=m=>n(r).password=m),"prefix-icon":"Lock",placeholder:"Password","show-password":""},null,8,["modelValue"])]),_:1}),s(i,null,{default:t(()=>[s(b,{type:"primary",onClick:x,loading:n(l),class:"login-btn"},{default:t(()=>[B(" Login ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})])])}}});export{S as default};
